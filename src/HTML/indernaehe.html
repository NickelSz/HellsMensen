<!--
  In dieser HTML Seite wird die In der Nähe Webseite gebaut, 
  die die Mensen, die sich in der Nähe befinden angezeigt 
  wobei die Inhalte jeweils aufgeteilt sind (s. Beschreibung)
  Ebenfalls ist eine Funktion im unteren Teil des Codes enthalten um den Standort zu berechnen
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>HellsMensen-Einstellungen</title>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="mensa.css" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />
  </head>
  <body>

    <!-- Menü Oben-->

    <div class="top-bar">
      <div class="mdc-top-navigation">
        <nav class="mdc-top-navigation-list-less">
          <span class="mdc-top-navigation-list-item-title-container">
            <span class="mdc-top-navigation-list-item-title"
              >In der Nähe
            </span>
            <span class= "logooben">
                <img src="images/HellsLogo_Groß.png" alt="" id = "logo">
            </span>
          </span>
        </nav>
      </div>
    </div>

    <!-- Inhalt-->

    <div class="inhalt">
      <p class="standortbestimmen">Hier Klicken um Standort anzuzeigen</p>
      <button onclick="getLocation()" class="geolocation">Try It</button>
      <p id="demo"></p>
      <div id='map'></div>
      
        
    </div>

    <!-- Menü Unten-->

    <div class="bottom-nav">
      <div class="mdc-bottom-navigation">
        <nav class="mdc-bottom-navigation-list">
          <span class="mdc-bottom-navigation-list-item">
            <span class="material-icons mdc-bottom-navigation-list-item-icon"
              >local_dining
              </span
            >
            <a href="main.html">
              <span class="mdc-bottom-navigation-list-item-text"
                >Speiseplan</span
              >
            </a>
          </span>
          <span class="mdc-bottom-navigation-list-item">
            <span class="material-icons mdc-bottom-navigation-list-item-icon"
              >info</span
            >
            <a href="information.html">
              <span class="mdc-bottom-navigation-list-item-text"
                >Informationen</span
              >
            </a>
          </span>
          <span class="mdc-bottom-navigation-list-item">
            <span class="material-icons mdc-bottom-navigation-list-item-icon"
              >location_on</span
            >
            <a href="indernaehe.html">
              <span class="mdc-bottom-navigation-list-item-text"
                >Standort</span
              >
            </a>
          </span>
          <span class="mdc-bottom-navigation-list-item">
            <span class="material-icons mdc-bottom-navigation-list-item-icon"
              >settings</span
            >
            <a href="einstellungen.html">
              <span class="mdc-bottom-navigation-list-item-text"
                >Einstellungen</span
              >
            </a>
          </span>
        </nav>
      </div>
    </div>
    <script src="map.js"></script>
    <script>
     
      var x = document.getElementById("demo");
     
 /**
 * Holt sich den momentanen Standort des Users
 * @param {location} e  
 * mit  error Funktion
 */

     function getLocation() {
       if (navigator.geolocation) {
         navigator.geolocation.getCurrentPosition(showPosition);
       } else { 
         x.innerHTML = "Geolocation is not supported by this browser.";
       }
     }
     
 /**
 * bildet den momentnanen Standort des Users auf der Seite ab 
 * @param {location}  position
 * @return {location} position des Users
 * 
 */
     function showPosition(position) {
       x.innerHTML = "Latitude: " + position.coords.latitude + 
       "<br>Longitude: " + position.coords.longitude;
       function showError(error) {
       switch(error.code) {
         case error.PERMISSION_DENIED:
           x.innerHTML = "User denied the request for Geolocation."
           break;
         case error.POSITION_UNAVAILABLE:
           x.innerHTML = "Location information is unavailable."
           break;
         case error.TIMEOUT:
           x.innerHTML = "The request to get user location timed out."
           break;
         case error.UNKNOWN_ERROR:
           x.innerHTML = "An unknown error occurred."
           break;
     
       }
       
     }
     }
         </script>
  </body>
</html>
